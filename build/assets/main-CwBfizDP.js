import{g as B,a as x,b as C,I as O,c as g,o as v,d as R}from"./vendors/vendor-BmvuvbqE.js";function $(n){window.onload=function(){document.querySelector(n).classList.add("preloader-remove"),document.documentElement.classList.add("loaded")}}B.registerPlugin(x,C);function V(){x.create({wrapper:"#wrapper",content:"#content",speed:1,smooth:1,effects:!0,smoothTouch:.1})}function W(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".form-order").forEach((n,t)=>{const e=n.querySelector(".input.name"),o=n.querySelector(".input.email"),i=n.querySelector(".input.phone"),c=n.querySelector(".checkbox__input"),d=n.querySelector(".send-button"),f=n.querySelector(".send-button").closest(".button-container");if([e,i,o,c,d,f].includes(null))return;function m(s,{maxSpread:r=12,duration:l=1e3,pulses:p=3}={}){const h=s.closest(".button-container")||s.parentElement;if(!h)return;let y=null;const L=l;function E(q){y||(y=q);const k=q-y,T=Math.min(k/L,1),M=Math.abs(Math.sin(T*p*Math.PI)),w=r*M;h.style.boxShadow=`0 0 ${w}px ${w/2}px rgba(255,0,0,0.6)`,k<L?requestAnimationFrame(E):h.style.boxShadow=""}requestAnimationFrame(E)}function a(){const s=e.value.trim(),r=i.value.trim(),l=s.length>=3&&r.length===18&&c.checked;return f.classList.toggle("is-disabled",!l),d.disabled=!c.checked,l}function u(){e.value.trim().length<3&&m(e),i.value.trim().length!==18&&m(i),c.checked||m(c),o.value.trim().length<3&&m(o)}e.addEventListener("input",a),i.addEventListener("input",a),c.addEventListener("change",a),o.addEventListener("email",a),a(),f.addEventListener("click",s=>{f.classList.contains("is-disabled")&&(s.preventDefault(),console.warn(`⚠️ [Форма ${t+1}] Невалидная попытка отправки`),u())}),d.addEventListener("click",()=>{if(!d.disabled&&!f.classList.contains("is-disabled")){let s="";d&&(s=d.getAttribute("goal-name")||"");const r=new FormData;r.append("action","send_telegram_message"),i&&i.value&&r.append("phone",i.value.trim()),o&&o.value&&r.append("email",o.value.trim()),e&&e.value&&r.append("name",e.value.trim()),r.append("goalName",s),fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:r}).then(l=>l.text()).then(l=>{alert("Ваш запрос отправлен."),console.log("Ответ сервера:",l),i&&(i.value=""),e&&(e.value=""),o&&(o.value=""),c&&(c.checked=!1),d.classList.toggle("is-disabled",!0)}).catch(l=>{console.error("Ошибка при отправке:",l),alert("Произошла ошибка при отправке данных.")})}})})})}function D(){let n=[],t=document.querySelectorAll("[data-da]"),e=[],o=[];if(t.length>0){let a=0;for(let u=0;u<t.length;u++){const s=t[u],r=s.getAttribute("data-da"),l=s.hasAttribute("data-da-position")?s.getAttribute("data-da-position"):"last",p=s.hasAttribute("data-da-resolution")?s.getAttribute("data-da-resolution"):768;s.setAttribute("data-da-index",a),n[a]={parent:s.parentNode,index:d(s)},e[a]={element:s,destination:document.querySelector("."+r),place:l,breakpoint:p},a++}m(e);for(let u=0;u<e.length;u++){const r=e[u].breakpoint,p=window.matchMedia(`(max-width: ${r}px)`);o.push(p),p.addEventListener("change",i)}}function i(){for(let a=0;a<e.length;a++){const u=e[a],s=u.element,r=u.destination,l=u.place,h="_dynamic_adapt_"+u.breakpoint;if(o[a].matches){if(!s.classList.contains(h)){let y=f(r)[l];l==="first"?y=f(r)[0]:l==="last"&&(y=f(r)[f(r).length]),r.insertBefore(s,r.children[y]),s.classList.add(h)}}else s.classList.contains(h)&&(c(s),s.classList.remove(h))}}i();function c(a){const u=a.getAttribute("data-da-index"),s=n[u],r=s.parent,l=s.index,p=f(r,!0)[l];r.insertBefore(a,r.children[p])}function d(a){return Array.prototype.slice.call(a.parentNode.children).indexOf(a)}function f(a,u){const s=a.children,r=[];for(let l=0;l<s.length;l++){const p=s[l];(u||p.getAttribute("data-da")==null)&&r.push(l)}return r}function m(a){a.sort(function(u,s){return u.breakpoint>s.breakpoint?-1:1}),a.sort(function(u,s){return u.place>s.place?1:-1})}}function F(n){const t=document.querySelectorAll(n);t.length&&t.forEach(e=>{let o=null;function i(){o=O(e,{mask:"+7 (000) 000-00-00",lazy:!0}),o.updateValue()}e.addEventListener("focus",function(){o||i(),e.value===""&&(e.value="+7 "),o.updateValue()}),e.addEventListener("blur",function(){e.value.trim()==="+7"&&(e.value="",o&&o.updateValue(""))})})}function H(){const n=()=>{const t=document.querySelector(".header"),o=document.querySelector(".page__main-content").getBoundingClientRect().top;t&&(o<-50?t.classList.add("with-shadow"):o<=0&&t.classList.remove("with-shadow"))};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}}function z(){const n=document.querySelectorAll(".burger-button"),t=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");n.forEach(o=>{o.addEventListener("click",()=>{o.classList.toggle("is-active"),o.classList.contains("is-active")?(S(e),t.classList.add("with-shadow")):o.classList.contains("is-active")||(S(e),t.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{n.forEach(o=>{o.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),o.classList.remove("is-active"))})})}function S(n){const t=document.querySelector(".page__aside-button");n.classList.contains("_open-menu")?(n.style.transition="transform 0.3s ease",n.classList.remove("_open-menu"),I(),document.body.classList.remove("no-scroll"),e(n),t&&setTimeout(()=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="all"},300)):(t&&(t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="none"),n.style.transition="transform 0.3s ease",n.classList.add("_open-menu"),_(n),document.body.classList.add("no-scroll"),e(n));function e(o){function i(){o.style.transition="",o.removeEventListener("transitionend",i)}o.addEventListener("transitionend",i)}}const A=document.querySelector(".page__header");function _(n){let t=0;t=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-position",`${t}px`);const e=window.innerWidth-document.documentElement.clientWidth;e>0&&(document.body.style.paddingRight=`${e}px`,n&&(n.style.paddingRight=`${e}px`,A.style.paddingRight=`${e}px`))}function Y(){[{triggerSelector:".button-request",modalSelector:".request-form"},{triggerSelector:".ordercall-button",modalSelector:".order-call-form"},{triggerSelector:".button-question",modalSelector:".questions-form"}].forEach(({triggerSelector:t,modalSelector:e})=>{const o=document.querySelector(e),i=document.querySelectorAll(t),c=o.querySelector(".btn-close");i.forEach(d=>{d.addEventListener("click",()=>{if(_(o),document.body.classList.add("no-scroll"),o.classList.add("is-open"),e===".questions-form"){const{showFieldset:f}=N();f(0)}})}),c.addEventListener("click",()=>{if(I(o),o.classList.remove("is-open"),document.body.classList.remove("no-scroll"),e===".questions-form"){const d=o.querySelector(".form-question__fieldset-table.active");d?(d.classList.remove("active"),console.log("Класс active удалён")):console.log("Нет активного fieldset")}})})}function N(){const n=document.querySelector(".form-question__content"),t=document.querySelectorAll(".form-question .form-question__fieldset-table");let e=0;const o=()=>{const c=n.querySelector(".form-question__fieldset-table.active");if(c){const d=c.offsetHeight;n.style.height=`${d}px`}},i=c=>{t.forEach(d=>d.classList.remove("active")),t[c].classList.add("active"),o()};return document.querySelectorAll("._btn-next button").forEach(c=>{c.addEventListener("click",()=>{e<t.length-1&&(e++,i(e))})}),document.querySelectorAll("._btn-prev button").forEach(c=>{c.addEventListener("click",()=>{e>0&&(e--,i(e))})}),{showFieldset:i}}function I(n){document.documentElement.style.removeProperty("--scroll-position"),n&&(n.style.paddingRight="",A.style.paddingRight=""),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}function j(n,t){const e=document.querySelector(n),o=document.querySelector(t);if(!e){console.log("Элемент cookiesAccept не найден");return}o?o.addEventListener("click",()=>{e.style.transform="translateY(100%)",e.style.transition="transform 0.5s ease"}):console.log("кнопка не найдена"),setTimeout(()=>{e.style.transform="translateY(0)",e.style.transition="transform 0.5s ease"},3e3)}function Q(n){const t=document.querySelector(n);if(!t)return;new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting?t.style.animationPlayState="running":t.style.animationPlayState="paused"})},{threshold:.1}).observe(t)}function U(){function n(t){const e=document.getElementById(t);if(!e)return;const o=window.innerWidth;let i=100;o<=768?i=80:o<=1440&&(i=71);const d=e.getBoundingClientRect().top+window.scrollY-i;window.scrollTo({top:d,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".anchor-link").forEach(e=>{e.addEventListener("click",function(o){const i=this.getAttribute("href"),c=new URL(i,window.location.href);if(c.pathname!==window.location.pathname)return;o.preventDefault();const d=c.hash.substring(1),f=o.target.closest(".sidebar-menu");f&&f.classList.contains("_open-menu")&&(document.querySelector(".burger-button")?.classList.remove("is-active"),document.body.classList.remove("no-scroll"),typeof S=="function"&&S(f)),n(d)})})})}function X(){document.querySelectorAll("fieldset.form-question__fieldset-table").forEach(t=>{const o=t.querySelector(".form-question__button._btn-next")?.querySelector("button"),i=()=>{const c=t.querySelectorAll('input[type="radio"]'),d=t.querySelectorAll('input[type="checkbox"]'),f=t.querySelectorAll("textarea");let m=!1;c.forEach(a=>{a.checked&&(m=!0)}),d.forEach(a=>{a.checked&&(m=!0)}),f.forEach(a=>{a.value.trim()!==""&&(m=!0)}),o&&(o.disabled=!m)};t.addEventListener("input",i),i()})}const b=/Mobi|Android/i.test(navigator.userAgent);function G(n){document.querySelectorAll(n).forEach((t,e)=>{if(!b){const o=[{enter:"bottom-=50 top",leave:"bottom-=200 top"},{enter:"bottom-=50 top",leave:"bottom-=450 top"},{enter:"bottom-=50 top",leave:"bottom-=650 top"}],i=o[e]||o[0];g(t,{y:["10%","0%"],opacity:[.3,1],ease:"linear",autoplay:v({enter:i.enter,leave:i.leave,sync:.25})})}})}function J(n){document.querySelectorAll(n).forEach(t=>{b||g(t,{y:["100%","0%"],opacity:[.3,1],ease:"linear",autoplay:v({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function K(n){document.querySelectorAll(n).forEach(t=>{b||g(t,{x:["30%","0%"],opacity:[0,1],ease:"linear",autoplay:v({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function Z(n){document.querySelectorAll(n).forEach(t=>{b||g(t,{x:["-30%","0%"],opacity:[0,1],ease:"linear",autoplay:v({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function ee(n){document.querySelectorAll(n).forEach(t=>{b||g(t,{y:["20%","0%"],ease:"linear",autoplay:v({enter:"bottom-=10 top",leave:"bottom-=350 top",sync:.25})})})}function te(n){document.querySelectorAll(n).forEach(t=>{b||g(t,{x:["20%","0%"],ease:"inOut(1.675)",autoplay:v({target:t})})})}function oe(){function n(){document.querySelectorAll(".header-blink, .button-blink").forEach(e=>{g(e,{left:["-100%","150%"],duration:3e3,easing:"easeOutSine",direction:"alternate",loop:!1,complete:()=>{setTimeout(n,6e3)}})})}n(),R({defaults:{delay:300,duration:950}}).add(".tl-1",{x:{from:"15rem"},opacity:[0,1]}).add(".tl-2",{x:{from:"15rem"},opacity:[0,1]},600).add(".tl-3",{x:{from:"40rem"},opacity:[0,1]},1200)}const P=/Mobi|Android/i.test(navigator.userAgent);$(".preloader");G(".its-col");ee(".its-block");J(".its-el");K(".its-el-left");Z(".its-el-right");te(".el-item");W();oe();U();z();D();H();Y();P||V();document.addEventListener("DOMContentLoaded",()=>{X(),j(".cookies-accept",".cookies-accept__button"),Q(".running-line__marquee"),F(".phone")});P&&document.querySelectorAll(".header__sub-item").forEach(t=>{const e=t.closest(".header__link-key");e&&e.addEventListener("click",()=>{const o=t.closest(".header__menu-items");if(o){const i=o.querySelector(".hover");i&&i!==t&&i.classList.remove("hover")}e.classList.toggle("hover")})});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
