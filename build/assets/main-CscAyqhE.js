import{g as M,a as w,b as B,I as C,c as y,o as b,d as O}from"./vendors/vendor-BmvuvbqE.js";function R(n){window.onload=function(){document.querySelector(n).classList.add("preloader-remove"),document.documentElement.classList.add("loaded")}}M.registerPlugin(w,B);function $(){w.create({wrapper:"#wrapper",content:"#content",speed:1,smooth:1,effects:!0,smoothTouch:.1})}function V(){document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".form-order").forEach((n,t)=>{const e=n.querySelector(".input.name"),o=n.querySelector(".input.phone"),s=n.querySelector(".checkbox__input"),l=n.querySelector(".send-button"),d=n.querySelector(".send-button").closest(".button-container");if([e,o,s,l,d].includes(null))return;function u(a,{maxSpread:i=12,duration:r=1e3,pulses:f=3}={}){const m=a.closest(".button-container")||a.parentElement;if(!m)return;let h=null;const g=r;function L(E){h||(h=E);const q=E-h,P=Math.min(q/g,1),T=Math.abs(Math.sin(P*f*Math.PI)),k=i*T;m.style.boxShadow=`0 0 ${k}px ${k/2}px rgba(255,0,0,0.6)`,q<g?requestAnimationFrame(L):m.style.boxShadow=""}requestAnimationFrame(L)}function p(){const a=e.value.trim(),i=o.value.trim(),r=a.length>=3&&i.length===18&&s.checked;return d.classList.toggle("is-disabled",!r),l.disabled=!s.checked,r}function c(){e.value.trim().length<3&&u(e),o.value.trim().length!==18&&u(o),s.checked||u(s)}e.addEventListener("input",p),o.addEventListener("input",p),s.addEventListener("change",p),p(),d.addEventListener("click",a=>{d.classList.contains("is-disabled")&&(a.preventDefault(),console.warn(`⚠️ [Форма ${t+1}] Невалидная попытка отправки`),c())}),l.addEventListener("click",()=>{if(!l.disabled&&!d.classList.contains("is-disabled")){let a="";l&&(a=l.getAttribute("goal-name")||"");const i=new FormData;i.append("action","send_telegram_message"),o&&o.value&&i.append("phone",o.value.trim()),e&&e.value&&i.append("name",e.value.trim()),i.append("goalName",a),fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:i}).then(r=>r.text()).then(r=>{alert("Ваш запрос отправлен."),console.log("Ответ сервера:",r),o&&(o.value=""),e&&(e.value=""),s&&(s.checked=!1),l.classList.toggle("is-disabled",!0)}).catch(r=>{console.error("Ошибка при отправке:",r),alert("Произошла ошибка при отправке данных.")})}})})})}function W(){let n=[],t=document.querySelectorAll("[data-da]"),e=[],o=[];if(t.length>0){let c=0;for(let a=0;a<t.length;a++){const i=t[a],r=i.getAttribute("data-da"),f=i.hasAttribute("data-da-position")?i.getAttribute("data-da-position"):"last",m=i.hasAttribute("data-da-resolution")?i.getAttribute("data-da-resolution"):768;i.setAttribute("data-da-index",c),n[c]={parent:i.parentNode,index:d(i)},e[c]={element:i,destination:document.querySelector("."+r),place:f,breakpoint:m},c++}p(e);for(let a=0;a<e.length;a++){const r=e[a].breakpoint,m=window.matchMedia(`(max-width: ${r}px)`);o.push(m),m.addEventListener("change",s)}}function s(){for(let c=0;c<e.length;c++){const a=e[c],i=a.element,r=a.destination,f=a.place,h="_dynamic_adapt_"+a.breakpoint;if(o[c].matches){if(!i.classList.contains(h)){let g=u(r)[f];f==="first"?g=u(r)[0]:f==="last"&&(g=u(r)[u(r).length]),r.insertBefore(i,r.children[g]),i.classList.add(h)}}else i.classList.contains(h)&&(l(i),i.classList.remove(h))}}s();function l(c){const a=c.getAttribute("data-da-index"),i=n[a],r=i.parent,f=i.index,m=u(r,!0)[f];r.insertBefore(c,r.children[m])}function d(c){return Array.prototype.slice.call(c.parentNode.children).indexOf(c)}function u(c,a){const i=c.children,r=[];for(let f=0;f<i.length;f++){const m=i[f];(a||m.getAttribute("data-da")==null)&&r.push(f)}return r}function p(c){c.sort(function(a,i){return a.breakpoint>i.breakpoint?-1:1}),c.sort(function(a,i){return a.place>i.place?1:-1})}}function D(n){const t=document.querySelectorAll(n);t.length&&t.forEach(e=>{let o=null;function s(){o=C(e,{mask:"+7 (000) 000-00-00",lazy:!0}),o.updateValue()}e.addEventListener("focus",function(){o||s(),e.value===""&&(e.value="+7 "),o.updateValue()}),e.addEventListener("blur",function(){e.value.trim()==="+7"&&(e.value="",o&&o.updateValue(""))})})}function F(){const n=()=>{const t=document.querySelector(".header"),o=document.querySelector(".page__main-content").getBoundingClientRect().top;t&&(o<-50?t.classList.add("with-shadow"):o<=0&&t.classList.remove("with-shadow"))};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}}function H(){const n=document.querySelectorAll(".burger-button"),t=document.querySelector(".header"),e=document.querySelector(".sidebar-menu");n.forEach(o=>{o.addEventListener("click",()=>{o.classList.toggle("is-active"),o.classList.contains("is-active")?(S(e),t.classList.add("with-shadow")):o.classList.contains("is-active")||(S(e),t.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{n.forEach(o=>{o.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),e.classList.remove("_open-menu"),o.classList.remove("is-active"))})})}function S(n){const t=document.querySelector(".page__aside-button");n.classList.contains("_open-menu")?(n.style.transition="transform 0.3s ease",n.classList.remove("_open-menu"),_(),document.body.classList.remove("no-scroll"),e(n),t&&setTimeout(()=>{t.style.opacity="1",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="all"},300)):(t&&(t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.pointerEvents="none"),n.style.transition="transform 0.3s ease",n.classList.add("_open-menu"),A(n),document.body.classList.add("no-scroll"),e(n));function e(o){function s(){o.style.transition="",o.removeEventListener("transitionend",s)}o.addEventListener("transitionend",s)}}const x=document.querySelector(".page__header");function A(n){let t=0;t=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-position",`${t}px`);const e=window.innerWidth-document.documentElement.clientWidth;e>0&&(document.body.style.paddingRight=`${e}px`,n&&(n.style.paddingRight=`${e}px`,x.style.paddingRight=`${e}px`))}function z(){[{triggerSelector:".button-request",modalSelector:".request-form"},{triggerSelector:".ordercall-button",modalSelector:".order-call-form"},{triggerSelector:".button-question",modalSelector:".questions-form"}].forEach(({triggerSelector:t,modalSelector:e})=>{const o=document.querySelector(e),s=document.querySelectorAll(t),l=o.querySelector(".btn-close");s.forEach(d=>{d.addEventListener("click",()=>{if(A(o),document.body.classList.add("no-scroll"),o.classList.add("is-open"),e===".questions-form"){const{showFieldset:u}=Y();u(0)}})}),l.addEventListener("click",()=>{if(_(o),o.classList.remove("is-open"),document.body.classList.remove("no-scroll"),e===".questions-form"){const d=o.querySelector(".form-question__fieldset-table.active");d?(d.classList.remove("active"),console.log("Класс active удалён")):console.log("Нет активного fieldset")}})})}function Y(){const n=document.querySelector(".form-question__content"),t=document.querySelectorAll(".form-question .form-question__fieldset-table");let e=0;const o=()=>{const l=n.querySelector(".form-question__fieldset-table.active");if(l){const d=l.offsetHeight;n.style.height=`${d}px`}},s=l=>{t.forEach(d=>d.classList.remove("active")),t[l].classList.add("active"),o()};return document.querySelectorAll("._btn-next button").forEach(l=>{l.addEventListener("click",()=>{e<t.length-1&&(e++,s(e))})}),document.querySelectorAll("._btn-prev button").forEach(l=>{l.addEventListener("click",()=>{e>0&&(e--,s(e))})}),{showFieldset:s}}function _(n){document.documentElement.style.removeProperty("--scroll-position"),n&&(n.style.paddingRight="",x.style.paddingRight=""),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}function N(n,t){const e=document.querySelector(n),o=document.querySelector(t);if(!e){console.log("Элемент cookiesAccept не найден");return}o?o.addEventListener("click",()=>{e.style.transform="translateY(100%)",e.style.transition="transform 0.5s ease"}):console.log("кнопка не найдена"),setTimeout(()=>{e.style.transform="translateY(0)",e.style.transition="transform 0.5s ease"},3e3)}function j(n){const t=document.querySelector(n);if(!t)return;new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting?t.style.animationPlayState="running":t.style.animationPlayState="paused"})},{threshold:.1}).observe(t)}function Q(){function n(t){const e=document.getElementById(t);if(!e)return;const o=window.innerWidth;let s=100;o<=768?s=80:o<=1440&&(s=71);const d=e.getBoundingClientRect().top+window.scrollY-s;window.scrollTo({top:d,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".anchor-link").forEach(e=>{e.addEventListener("click",function(o){const s=this.getAttribute("href"),l=new URL(s,window.location.href);if(l.pathname!==window.location.pathname)return;o.preventDefault();const d=l.hash.substring(1),u=o.target.closest(".sidebar-menu");u&&u.classList.contains("_open-menu")&&(document.querySelector(".burger-button")?.classList.remove("is-active"),document.body.classList.remove("no-scroll"),typeof S=="function"&&S(u)),n(d)})})})}function U(){document.querySelectorAll("fieldset.form-question__fieldset-table").forEach(t=>{const o=t.querySelector(".form-question__button._btn-next")?.querySelector("button"),s=()=>{const l=t.querySelectorAll('input[type="radio"]'),d=t.querySelectorAll('input[type="checkbox"]'),u=t.querySelectorAll("textarea");let p=!1;l.forEach(c=>{c.checked&&(p=!0)}),d.forEach(c=>{c.checked&&(p=!0)}),u.forEach(c=>{c.value.trim()!==""&&(p=!0)}),o&&(o.disabled=!p)};t.addEventListener("input",s),s()})}const v=/Mobi|Android/i.test(navigator.userAgent);function X(n){document.querySelectorAll(n).forEach((t,e)=>{if(!v){const o=[{enter:"bottom-=50 top",leave:"bottom-=200 top"},{enter:"bottom-=50 top",leave:"bottom-=450 top"},{enter:"bottom-=50 top",leave:"bottom-=650 top"}],s=o[e]||o[0];y(t,{y:["10%","0%"],opacity:[.3,1],ease:"linear",autoplay:b({enter:s.enter,leave:s.leave,sync:.25})})}})}function G(n){document.querySelectorAll(n).forEach(t=>{v||y(t,{y:["100%","0%"],opacity:[.3,1],ease:"linear",autoplay:b({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function J(n){document.querySelectorAll(n).forEach(t=>{v||y(t,{x:["30%","0%"],opacity:[0,1],ease:"linear",autoplay:b({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function K(n){document.querySelectorAll(n).forEach(t=>{v||y(t,{x:["-30%","0%"],opacity:[0,1],ease:"linear",autoplay:b({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function Z(n){document.querySelectorAll(n).forEach(t=>{v||y(t,{y:["20%","0%"],ease:"linear",autoplay:b({enter:"bottom-=10 top",leave:"bottom-=350 top",sync:.25})})})}function ee(n){document.querySelectorAll(n).forEach(t=>{v||y(t,{x:["20%","0%"],ease:"inOut(1.675)",autoplay:b({target:t})})})}function te(){function n(){document.querySelectorAll(".header-blink, .button-blink").forEach(e=>{y(e,{left:["-100%","150%"],duration:3e3,easing:"easeOutSine",direction:"alternate",loop:!1,complete:()=>{setTimeout(n,6e3)}})})}n(),O({defaults:{delay:300,duration:950}}).add(".tl-1",{x:{from:"15rem"},opacity:[0,1]}).add(".tl-2",{x:{from:"15rem"},opacity:[0,1]},600).add(".tl-3",{x:{from:"40rem"},opacity:[0,1]},1200)}const I=/Mobi|Android/i.test(navigator.userAgent);R(".preloader");X(".its-col");Z(".its-block");G(".its-el");J(".its-el-left");K(".its-el-right");ee(".el-item");V();te();Q();H();W();F();z();I||$();document.addEventListener("DOMContentLoaded",()=>{U(),N(".cookies-accept",".cookies-accept__button"),j(".running-line__marquee"),D(".phone")});I&&document.querySelectorAll(".header__sub-item").forEach(t=>{const e=t.closest(".header__link-key");e&&e.addEventListener("click",()=>{const o=t.closest(".header__menu-items");if(o){const s=o.querySelector(".hover");s&&s!==t&&s.classList.remove("hover")}e.classList.toggle("hover")})});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
