import{g as S,a as _,b as k,I as x,c as p,o as y,d as q}from"./vendors/vendor-CyHvIY9K.js";function A(s){window.onload=function(){document.querySelector(s).classList.add("preloader-remove"),document.documentElement.classList.add("loaded")}}S.registerPlugin(_,k);function F(){_.create({wrapper:"#wrapper",content:"#content",speed:1,smooth:1,effects:!0,smoothTouch:.1})}function T(){let s=!1;(function(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()})();function e(){s||(s=!0,document.querySelectorAll(".form-order").forEach((t,o)=>{new C(t,o).init()}))}return{revalidateAll:()=>{document.querySelectorAll(".form-order").forEach(t=>{const o=t._validator;o&&o.validateFormFields()})}}}class C{constructor(e,t){this.form=e,this.index=t,this.isSubmitting=!1,this.elements={name:e.querySelector(".input.name"),email:e.querySelector(".input.email"),phone:e.querySelector(".input.phone"),checkbox:e.querySelector(".checkbox__input"),sendButton:e.querySelector(".send-button"),buttonContainer:null},this.elements.buttonContainer=this.elements.sendButton?.closest(".button-container"),this.validateDebounced=this.debounce(this.validateFormFields.bind(this),300),e._validator=this}init(){const{checkbox:e,sendButton:t,buttonContainer:o,name:i,email:c,phone:h}=this.elements;if(!e||!t||!o){console.warn(`Форма ${this.index+1}: отсутствуют обязательные элементы`);return}this.setupEventListeners(),this.validateFormFields()}setupEventListeners(){const{name:e,email:t,phone:o,checkbox:i,sendButton:c,buttonContainer:h}=this.elements;[e,t,o].forEach(r=>{r&&(r.addEventListener("input",this.validateDebounced),r.addEventListener("blur",this.validateFormFields.bind(this)))}),i.addEventListener("change",this.validateFormFields.bind(this)),h.addEventListener("click",r=>{h.classList.contains("is-disabled")&&(r.preventDefault(),this.showValidationErrors())}),c.addEventListener("click",this.handleSubmit.bind(this)),this.form.addEventListener("keypress",r=>{r.key==="Enter"&&!this.elements.sendButton.disabled&&(r.preventDefault(),this.handleSubmit())})}validateFormFields(){const{name:e,email:t,phone:o,checkbox:i,buttonContainer:c,sendButton:h}=this.elements;let r=i.checked;if(e){const d=e.value.trim().length>=3;this.toggleFieldError(e,!d),r&&=d}if(o){const d=o.value.trim().length===18;this.toggleFieldError(o,!d),r&&=d}if(t){const d=t.value.trim(),l=d.length>=3&&this.validateEmail(d);this.toggleFieldError(t,!l),r&&=l}return c.classList.toggle("is-disabled",!r),h.disabled=!i.checked||this.isSubmitting,this.toggleFieldError(i,!i.checked),r}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}showValidationErrors(){const{name:e,email:t,phone:o,checkbox:i}=this.elements;e&&e.value.trim().length<3&&this.animateError(e),o&&o.value.trim().length!==18&&this.animateError(o),t&&!this.validateEmail(t.value.trim())&&this.animateError(t),i.checked||this.animateError(i),console.warn(`⚠️ [Форма ${this.index+1}] Невалидная попытка отправки`)}animateError(e,t={}){const{maxSpread:o=12,duration:i=1e3,pulses:c=3}=t,h=e.closest(".button-container")||e.parentElement;if(!h)return;let r=null;const d=l=>{r||(r=l);const u=l-r,n=Math.min(u/i,1),a=Math.abs(Math.sin(n*c*Math.PI)),m=o*a;h.style.boxShadow=`0 0 ${m}px ${m/2}px rgba(255, 0, 0, 0.6)`,u<i?requestAnimationFrame(d):h.style.boxShadow=""};requestAnimationFrame(d)}async handleSubmit(){const{sendButton:e,buttonContainer:t,name:o,email:i,phone:c,checkbox:h}=this.elements;if(!this.validateFormFields()||e.disabled||this.isSubmitting){this.showValidationErrors();return}this.isSubmitting=!0,e.disabled=!0,e.textContent="Отправка...";try{const r=e.getAttribute("goal-name")||"",d=new FormData;d.append("action","send_telegram_message"),d.append("goalName",r),c?.value&&d.append("phone",c.value.trim()),i?.value&&d.append("email",i.value.trim()),o?.value&&d.append("name",o.value.trim());const l=await fetch(localizedVars.ajax_url,{method:"POST",headers:{"X-WP-Nonce":localizedVars.ajax_nonce},body:d});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const u=await l.text();this.showSuccess(),this.resetForm(),console.log("Ответ сервера:",u)}catch(r){console.error("Ошибка при отправке:",r),this.showError("Произошла ошибка при отправке данных."),e.disabled=!1,e.textContent="Отправить"}finally{this.isSubmitting=!1,this.validateFormFields()}}resetForm(){const{name:e,email:t,phone:o,checkbox:i}=this.elements;e&&(e.value=""),o&&(o.value=""),t&&(t.value=""),i.checked=!1,[e,t,o,i].forEach(c=>{c&&this.toggleFieldError(c,!1)})}showSuccess(){alert("Ваш запрос отправлен.")}showError(e){alert(e)}toggleFieldError(e,t){const o=e.closest(".input-container")||e.parentElement;o&&o.classList.toggle("has-error",t)}debounce(e,t){let o;return function(...c){const h=()=>{clearTimeout(o),e(...c)};clearTimeout(o),o=setTimeout(h,t)}}}function I(){let s=[],e=document.querySelectorAll("[data-da]"),t=[],o=[];if(e.length>0){let l=0;for(let u=0;u<e.length;u++){const n=e[u],a=n.getAttribute("data-da"),m=n.hasAttribute("data-da-position")?n.getAttribute("data-da-position"):"last",f=n.hasAttribute("data-da-resolution")?n.getAttribute("data-da-resolution"):768;n.setAttribute("data-da-index",l),s[l]={parent:n.parentNode,index:h(n)},t[l]={element:n,destination:document.querySelector("."+a),place:m,breakpoint:f},l++}d(t);for(let u=0;u<t.length;u++){const a=t[u].breakpoint,f=window.matchMedia(`(max-width: ${a}px)`);o.push(f),f.addEventListener("change",i)}}function i(){for(let l=0;l<t.length;l++){const u=t[l],n=u.element,a=u.destination,m=u.place,v="_dynamic_adapt_"+u.breakpoint;if(o[l].matches){if(!n.classList.contains(v)){let E=r(a)[m];m==="first"?E=r(a)[0]:m==="last"&&(E=r(a)[r(a).length]),a.insertBefore(n,a.children[E]),n.classList.add(v)}}else n.classList.contains(v)&&(c(n),n.classList.remove(v))}}i();function c(l){const u=l.getAttribute("data-da-index"),n=s[u],a=n.parent,m=n.index,f=r(a,!0)[m];a.insertBefore(l,a.children[f])}function h(l){return Array.prototype.slice.call(l.parentNode.children).indexOf(l)}function r(l,u){const n=l.children,a=[];for(let m=0;m<n.length;m++){const f=n[m];(u||f.getAttribute("data-da")==null)&&a.push(m)}return a}function d(l){l.sort(function(u,n){return u.breakpoint>n.breakpoint?-1:1}),l.sort(function(u,n){return u.place>n.place?1:-1})}}function B(s){const e=document.querySelectorAll(s);e.length&&e.forEach(t=>{let o=null;function i(){o=x(t,{mask:"+7 (000) 000-00-00",lazy:!0}),o.updateValue()}t.addEventListener("focus",function(){o||i(),t.value===""&&(t.value="+7 "),o.updateValue()}),t.addEventListener("blur",function(){t.value.trim()==="+7"&&(t.value="",o&&o.updateValue(""))})})}function P(){const s=()=>{const e=document.querySelector(".header"),o=document.querySelector(".page__main-content").getBoundingClientRect().top;e&&(o<-50?e.classList.add("with-shadow"):o<=0&&e.classList.remove("with-shadow"))};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}}function V(){const s=document.querySelectorAll(".burger-button"),e=document.querySelector(".header"),t=document.querySelector(".sidebar-menu");s.forEach(o=>{o.addEventListener("click",()=>{o.classList.toggle("is-active"),o.classList.contains("is-active")?(b(t),e.classList.add("with-shadow")):o.classList.contains("is-active")||(b(t),e.classList.remove("with-shadow"))})}),window.addEventListener("resize",()=>{s.forEach(o=>{o.classList.contains("is-active")&&(document.body.classList.remove("no-scroll"),t.classList.remove("_open-menu"),o.classList.remove("is-active"))})})}function b(s){const e=document.querySelector(".page__aside-button");s.classList.contains("_open-menu")?(s.style.transition="transform 0.3s ease",s.classList.remove("_open-menu"),D(),document.body.classList.remove("no-scroll"),t(s),e&&setTimeout(()=>{e.style.opacity="1",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="all"},300)):(e&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease",e.style.pointerEvents="none"),s.style.transition="transform 0.3s ease",s.classList.add("_open-menu"),M(s),document.body.classList.add("no-scroll"),t(s));function t(o){function i(){o.style.transition="",o.removeEventListener("transitionend",i)}o.addEventListener("transitionend",i)}}const $=document.querySelector(".page__header");function M(s){let e=0;e=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-position",`${e}px`);const t=window.innerWidth-document.documentElement.clientWidth;t>0&&(document.body.style.paddingRight=`${t}px`,s&&(s.style.paddingRight=`${t}px`,$.style.paddingRight=`${t}px`))}function D(s){document.documentElement.style.removeProperty("--scroll-position"),document.body.style.paddingRight="",window.scrollTo(0,scrollY)}function O(s,e){const t=document.querySelector(s),o=document.querySelector(e);if(!t){console.log("Элемент cookiesAccept не найден");return}o?o.addEventListener("click",()=>{t.style.transform="translateY(100%)",t.style.transition="transform 0.5s ease"}):console.log("кнопка не найдена"),setTimeout(()=>{t.style.transform="translateY(0)",t.style.transition="transform 0.5s ease"},3e3)}function H(s){const e=document.querySelector(s);if(!e)return;new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting?e.style.animationPlayState="running":e.style.animationPlayState="paused"})},{threshold:.1}).observe(e)}function R(){function s(e){const t=document.getElementById(e);if(!t)return;const o=window.innerWidth;let i=100;o<=768?i=80:o<=1440&&(i=71);const h=t.getBoundingClientRect().top+window.scrollY-i;window.scrollTo({top:h,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".anchor-link").forEach(t=>{t.addEventListener("click",function(o){const i=this.getAttribute("href"),c=new URL(i,window.location.href);if(c.pathname!==window.location.pathname)return;o.preventDefault();const h=c.hash.substring(1),r=o.target.closest(".sidebar-menu");r&&r.classList.contains("_open-menu")&&(document.querySelector(".burger-button")?.classList.remove("is-active"),document.body.classList.remove("no-scroll"),typeof b=="function"&&b(r)),s(h)})})})}function W(){document.querySelectorAll("fieldset.form-question__fieldset-table").forEach(e=>{const o=e.querySelector(".form-question__button._btn-next")?.querySelector("button"),i=()=>{const c=e.querySelectorAll('input[type="radio"]'),h=e.querySelectorAll('input[type="checkbox"]'),r=e.querySelectorAll("textarea");let d=!1;c.forEach(l=>{l.checked&&(d=!0)}),h.forEach(l=>{l.checked&&(d=!0)}),r.forEach(l=>{l.value.trim()!==""&&(d=!0)}),o&&(o.disabled=!d)};e.addEventListener("input",i),i()})}class L{constructor(e,t=350){this._target=e,this._duration=t}show(){const e=this._target;if(e.classList.contains("collapsing")||e.classList.contains("_show"))return;e.classList.remove("_collapse");const t=e.offsetHeight;e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.add("collapsing"),e.offsetHeight,e.style.height=`${t}px`,window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.classList.add("_show"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration)}hide(){const e=this._target;e.classList.contains("collapsing")||!e.classList.contains("_show")||(e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.height=0,e.style.overflow="hidden",e.style.transition=`height ${this._duration}ms ease`,e.classList.remove("_collapse"),e.classList.remove("_show"),e.classList.add("collapsing"),window.setTimeout(()=>{e.classList.remove("collapsing"),e.classList.add("_collapse"),e.style.height="",e.style.transition="",e.style.overflow=""},this._duration))}toggle(){this._target.classList.contains("_show")?this.hide():this.show()}}function z(){document.querySelectorAll("[data-select]").forEach(function(s){const e=s.querySelectorAll(".select");e&&e.forEach(t=>{const o=t.querySelectorAll(".select__item"),i=t.querySelector(".select__button");let c=o.length>0?o[0]:null;t.addEventListener("click",function(n){let a=n.target;if(a.closest(".select__button")){const m=document.querySelector("._active-collapse");r(t),a.closest(".select__input")&&(c=a.closest(".select__input").nextElementSibling.querySelector("._selected")),a.closest(".select").classList.contains("_active-collapse")||i.blur(),m&&m!==t&&r(m)}}),o.length!==0&&[].forEach.call(o,function(n){n.addEventListener("click",function(){c=this,c.focus(),i.value=n.textContent;const a=t.querySelector("._selected");u(n),a&&a!==n&&u(a),l()})}),s.addEventListener("keydown",function(n){if(n=n||window.e,n.preventDefault(),n.key=="ArrowUp"){let a=c.previousElementSibling;h(a)}else if(n.key=="ArrowDown"){let a=c.nextElementSibling;h(a)}else n.key=="Enter"&&(l(),d())});function h(n){n!==null&&(c.focus(),c.classList.remove("_selected"),n.focus(),n.classList.add("_selected"),c=n)}const r=n=>{const a=new L(n.closest(".select").querySelector("._collapse"));n.classList.contains("_active-collapse")?(n.classList.remove("_active-collapse"),a.toggle()):(n.classList.add("_active-collapse"),a.toggle())};document.addEventListener("keydown",function(n){(n.key==="Tab"||n.key==="Escape")&&(i.blur(),d())}),document.addEventListener("click",function(n){const a=n.target.classList;switch(!0){case a.contains("select__button"):break;case a.contains("select__item"):break;default:d();break}});function d(){document.querySelectorAll(".select").forEach(a=>{a.classList.contains("_active-collapse")&&r(a)})}function l(){let n=s.getElementsByClassName("select__button");for(let a=0;a<n.length;a++)n[a].value=c?c.textContent:"",i.blur()}const u=n=>{const a=new L(n.closest("._collapse"));n.classList.contains("_selected")?(n.classList.remove("_selected"),a.toggle(),n.closest(".select").classList.remove("_active-collapse")):n.classList.add("_selected")}})})}const g=/Mobi|Android/i.test(navigator.userAgent);function N(s){document.querySelectorAll(s).forEach((e,t)=>{if(!g){const o=[{enter:"bottom-=50 top",leave:"bottom-=200 top"},{enter:"bottom-=50 top",leave:"bottom-=450 top"},{enter:"bottom-=50 top",leave:"bottom-=650 top"}],i=o[t]||o[0];p(e,{y:["10%","0%"],opacity:[.3,1],ease:"linear",autoplay:y({enter:i.enter,leave:i.leave,sync:.25})})}})}function Y(s){document.querySelectorAll(s).forEach(e=>{g||p(e,{y:["100%","0%"],opacity:[.3,1],ease:"linear",autoplay:y({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function j(s){document.querySelectorAll(s).forEach(e=>{g||p(e,{x:["30%","0%"],opacity:[0,1],ease:"linear",autoplay:y({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function U(s){document.querySelectorAll(s).forEach(e=>{g||p(e,{x:["-30%","0%"],opacity:[0,1],ease:"linear",autoplay:y({enter:"bottom-=10 top",leave:"bottom-=250 top",sync:.25})})})}function Q(s){document.querySelectorAll(s).forEach(e=>{g||p(e,{y:["20%","0%"],ease:"linear",autoplay:y({enter:"bottom-=10 top",leave:"bottom-=350 top",sync:.25})})})}function X(s){document.querySelectorAll(s).forEach(e=>{g||p(e,{x:["20%","0%"],ease:"inOut(1.675)",autoplay:y({target:e})})})}function J(){function s(){document.querySelectorAll(".header-blink, .button-blink").forEach(t=>{p(t,{left:["-100%","150%"],duration:3e3,easing:"easeOutSine",direction:"alternate",loop:!1,complete:()=>{setTimeout(s,6e3)}})})}s(),q({defaults:{delay:300,duration:950}}).add(".tl-1",{x:{from:"15rem"},opacity:[0,1]}).add(".tl-2",{x:{from:"15rem"},opacity:[0,1]},600).add(".tl-3",{x:{from:"40rem"},opacity:[0,1]},1200)}const w=/Mobi|Android/i.test(navigator.userAgent);z();A(".preloader");N(".its-col");Q(".its-block");Y(".its-el");j(".its-el-left");U(".its-el-right");X(".el-item");T();J();R();V();I();P();w||F();document.addEventListener("DOMContentLoaded",()=>{W(),O(".cookies-accept",".cookies-accept__button"),H(".running-line__marquee"),B(".phone")});w&&document.querySelectorAll(".header__sub-item").forEach(e=>{const t=e.closest(".header__link-key");t&&t.addEventListener("click",()=>{const o=e.closest(".header__menu-items");if(o){const i=o.querySelector(".hover");i&&i!==e&&i.classList.remove("hover")}t.classList.toggle("hover")})});console.log("%c РОССИЯ ","background: blue; color: yellow; font-size: x-large; border-left: 5px solid black; border-top: 30px solid white; border-right: 2px solid black; border-bottom: 30px solid red;");
